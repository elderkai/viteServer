import{a as e,h as t}from"./index.be0f983f.js";import{r as a}from"./toolFun.5e061531.js";import{f as l,a3 as i,a4 as o,r,o as s,c as d,a as c,O as n,x as u,I as p,a5 as m}from"./vendor.03d6fc96.js";const h={setup(){const{proxy:i}=p(),o=e();let r=l([]);function s(){i.$axios.get("/article").then((e=>{200==e.code&&(console.log(e.data),e.data.map((e=>e.updatedTime=a(e.updatedTime))),r.value=e.data)}))}return s(),{articles:r,delArticle:function(e){i.$axios.post("/article/remove",{_id:e._id}).then((e=>{200==e.code&&(s(),t.success({message:e.msg,type:"success"}))}))},editArticle:function(e){console.log(e),o.push({path:"/manage/editArticle",query:{id:e._id}})}}}},f=m();i("data-v-7635091b");const b={class:"manageArticle"},w=n("修改"),x=n("删除");o();const g=f(((e,t,a,l,i,o)=>{const p=r("el-avatar"),m=r("el-table-column"),h=r("el-image"),g=r("el-button"),v=r("el-table");return s(),d("div",null,[c("div",b,[c(v,{data:l.articles,border:"",style:{width:"1200px"},"max-height":"600"},{default:f((()=>[c(m,{prop:"author",label:"作者",width:"120"},{default:f((t=>[c(p,{size:e.size,src:t.row.author.picUrl},null,8,["size","src"]),n(" "+u(t.row.author.username),1)])),_:1}),c(m,{prop:"title",label:"文章",width:"150"}),c(m,{prop:"introduce",label:"介绍",width:"150"}),c(m,{prop:"readnumber",label:"浏览量",width:"150"}),c(m,{prop:"commonnum",label:"评论",width:"150"}),c(m,{prop:"updatedTime",label:"创建时间",width:"160"}),c(m,{label:"图片"},{default:f((e=>[c("div",null,[c(h,{style:{width:"100px",height:"100px"},src:e.row.coverImg},null,8,["src"])])])),_:1}),c(m,{label:"操作"},{default:f((e=>[c("div",null,[c(g,{size:"mini",type:"text",onClick:t=>l.editArticle(e.row)},{default:f((()=>[w])),_:2},1032,["onClick"]),c(g,{size:"mini",type:"text",onClick:t=>l.delArticle(e.row)},{default:f((()=>[x])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"])])])}));h.render=g,h.__scopeId="data-v-7635091b";export default h;
