import{f as e,a1 as t,a2 as a,r as l,o as i,c as o,a as r,P as s,z as d,J as c,a3 as n}from"./vendor.e8c09140.js";import{a as u,Q as p}from"./index.f15bb496.js";import{r as m}from"./toolFun.ddcca621.js";const h={setup(){const{proxy:t}=c(),a=u();let l=e([]);function i(){t.$axios.get("/article").then((e=>{200==e.code&&(console.log(e.data),e.data.map((e=>e.updatedTime=m(e.updatedTime))),l.value=e.data)}))}return i(),{articles:l,delArticle:function(e){t.$axios.post("/article/remove",{_id:e._id}).then((e=>{200==e.code&&(i(),p.success({message:e.msg,type:"success"}))}))},editArticle:function(e){console.log(e),a.push({path:"/manage/editArticle",query:{id:e._id}})}}}},b=n("data-v-7635091b");t("data-v-7635091b");const f={class:"manageArticle"},w=s("修改"),v=s("删除");a();const g=b(((e,t,a,c,n,u)=>{const p=l("el-avatar"),m=l("el-table-column"),h=l("el-image"),g=l("el-button"),x=l("el-table");return i(),o("div",null,[r("div",f,[r(x,{data:c.articles,border:"",style:{width:"1200px"},"max-height":"600"},{default:b((()=>[r(m,{prop:"author",label:"作者",width:"120"},{default:b((t=>[r(p,{size:e.size,src:t.row.author.picUrl},null,8,["size","src"]),s(" "+d(t.row.author.username),1)])),_:1}),r(m,{prop:"title",label:"文章",width:"150"}),r(m,{prop:"introduce",label:"介绍",width:"150"}),r(m,{prop:"readnumber",label:"浏览量",width:"150"}),r(m,{prop:"commonnum",label:"评论",width:"150"}),r(m,{prop:"updatedTime",label:"创建时间",width:"160"}),r(m,{label:"图片"},{default:b((e=>[r("div",null,[r(h,{style:{width:"100px",height:"100px"},src:e.row.coverImg},null,8,["src"])])])),_:1}),r(m,{label:"操作"},{default:b((e=>[r("div",null,[r(g,{size:"mini",type:"text",onClick:t=>c.editArticle(e.row)},{default:b((()=>[w])),_:2},1032,["onClick"]),r(g,{size:"mini",type:"text",onClick:t=>c.delArticle(e.row)},{default:b((()=>[v])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"])])])}));h.render=g,h.__scopeId="data-v-7635091b";export default h;
