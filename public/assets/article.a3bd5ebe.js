import{j as e,a as t,c as a,p as l,d as i,e as o,o as s,f as r,g as d,i as c,t as n,n as u,h as p}from"./index.f8f7fc4f.js";import{r as m}from"./toolFun.fa8e1713.js";import"./vendor.521ca53b.js";const h={setup(){const{proxy:l}=u(),i=t();let o=e([]);function s(){l.$axios.get("/article").then((e=>{200==e.code&&(console.log(e.data),e.data.map((e=>e.updatedTime=m(e.updatedTime))),o.value=e.data)}))}return s(),{articles:o,delArticle:function(e){l.$axios.post("/article/remove",{_id:e._id}).then((e=>{200==e.code&&(s(),a.success({message:e.msg,type:"success"}))}))},editArticle:function(e){console.log(e),i.push({path:"/manage/editArticle",query:{id:e._id}})}}}},f=p("data-v-7635091b");l("data-v-7635091b");const b={class:"manageArticle"},w=c("修改"),g=c("删除");i();const v=f(((e,t,a,l,i,u)=>{const p=o("el-avatar"),m=o("el-table-column"),h=o("el-image"),v=o("el-button"),x=o("el-table");return s(),r("div",null,[d("div",b,[d(x,{data:l.articles,border:"",style:{width:"1200px"},"max-height":"600"},{default:f((()=>[d(m,{prop:"author",label:"作者",width:"120"},{default:f((t=>[d(p,{size:e.size,src:t.row.author.picUrl},null,8,["size","src"]),c(" "+n(t.row.author.username),1)])),_:1}),d(m,{prop:"title",label:"文章",width:"150"}),d(m,{prop:"introduce",label:"介绍",width:"150"}),d(m,{prop:"readnumber",label:"浏览量",width:"150"}),d(m,{prop:"commonnum",label:"评论",width:"150"}),d(m,{prop:"updatedTime",label:"创建时间",width:"160"}),d(m,{label:"图片"},{default:f((e=>[d("div",null,[d(h,{style:{width:"100px",height:"100px"},src:e.row.coverImg},null,8,["src"])])])),_:1}),d(m,{label:"操作"},{default:f((e=>[d("div",null,[d(v,{size:"mini",type:"text",onClick:t=>l.editArticle(e.row)},{default:f((()=>[w])),_:2},1032,["onClick"]),d(v,{size:"mini",type:"text",onClick:t=>l.delArticle(e.row)},{default:f((()=>[g])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"])])])}));h.render=v,h.__scopeId="data-v-7635091b";export default h;
