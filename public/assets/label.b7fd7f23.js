import{j as e,c as a,p as l,d as t,e as o,o as s,f as d,g as n,m as u,v as c,n as i,h as p,i as b}from"./index.f8f7fc4f.js";import{r}from"./toolFun.fa8e1713.js";import"./vendor.521ca53b.js";const m={setup(){const{ctx:l}=i();let t=e([]),o=e(""),s=e(!1);function d(){l.$axios.get("/lable/getLables").then((e=>{200==e.code&&(t.value=[],e.data.map((e=>e["update-time"]=r(e["update-time"]))),t.value=e.data)}))}return d(),{lables:t,delLable:function(e){l.$axios.post("/lable/remove",{_id:e._id}).then((e=>{200==e.code&&(a.success({message:e.msg,type:"success"}),d())}))},upLable:function(e){l.$axios.post("/lable/change",{_id:e._id,lable:e.lable}).then((e=>{200==e.code&&(a.success({message:e.msg,type:"success"}),d())}))},lable:o,addLable:function(){l.$axios.post("/lable/create",{lable:o.value}).then((e=>{200==e.code&&(s.value=!1,o.value="",d())}))},showAdd:function(){s.value=!s.value},show:s}}},h=p("data-v-15c46482");l("data-v-15c46482");const f={class:"addBtn"},v=b("添加"),g={class:"inputAdd"},x={class:"tableBox"},w=b("删除");t();const _=h(((e,a,l,t,i,p)=>{const b=o("el-button"),r=o("el-input"),m=o("el-table-column"),_=o("el-table");return s(),d("div",null,[n("div",f,[n(b,{onClick:t.showAdd,type:"text"},{default:h((()=>[v])),_:1},8,["onClick"]),n("div",g,[u(n(r,{placeholder:"添加标签",onChange:t.addLable,modelValue:t.lable,"onUpdate:modelValue":a[1]||(a[1]=e=>t.lable=e)},null,8,["onChange","modelValue"]),[[c,t.show]])])]),n("div",x,[n(_,{data:t.lables,border:"",style:{width:"600px"},"max-height":"600"},{default:h((()=>[n(m,{prop:"lable",label:"标签",width:"120"},{default:h((e=>[n(r,{onChange:a=>t.upLable(e.row),modelValue:e.row.lable,"onUpdate:modelValue":a=>e.row.lable=a,placeholder:"请输入内容"},null,8,["onChange","modelValue","onUpdate:modelValue"])])),_:1}),n(m,{prop:"update-time",label:"创建时间",width:"300"}),n(m,{label:"操作"},{default:h((e=>[n(b,{size:"mini",type:"text",onClick:a=>t.delLable(e.row)},{default:h((()=>[w])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])])}));m.render=_,m.__scopeId="data-v-15c46482";export default m;
