import{f as e,a3 as a,a4 as l,r as t,o,c as d,a as s,E as n,M as u,I as c,a5 as i,O as b}from"./vendor.03d6fc96.js";import{r as p}from"./toolFun.1f5dddd9.js";import{h as r}from"./index.85785c78.js";const m={setup(){const{proxy:a}=c();let l=e([]),t=e(""),o=e(!1);function d(){a.$axios.get("/lable/getLables").then((e=>{200==e.code&&(l.value=[],e.data.map((e=>e["update-time"]=p(e["update-time"]))),l.value=e.data)}))}return d(),{lables:l,delLable:function(e){a.$axios.post("/lable/remove",{_id:e._id}).then((e=>{200==e.code&&(r.success({message:e.msg,type:"success"}),d())}))},upLable:function(e){a.$axios.post("/lable/change",{_id:e._id,lable:e.lable}).then((e=>{200==e.code&&(r.success({message:e.msg,type:"success"}),d())}))},lable:t,addLable:function(){a.$axios.post("/lable/create",{lable:t.value}).then((e=>{200==e.code&&(o.value=!1,t.value="",d())}))},showAdd:function(){o.value=!o.value},show:o}}},h=i();a("data-v-54cb1334");const f={class:"addBtn"},v=b("添加"),g={class:"inputAdd"},x={class:"tableBox"},w=b("删除");l();const _=h(((e,a,l,c,i,b)=>{const p=t("el-button"),r=t("el-input"),m=t("el-table-column"),_=t("el-table");return o(),d("div",null,[s("div",f,[s(p,{onClick:c.showAdd,type:"text"},{default:h((()=>[v])),_:1},8,["onClick"]),s("div",g,[n(s(r,{placeholder:"添加标签",onChange:c.addLable,modelValue:c.lable,"onUpdate:modelValue":a[1]||(a[1]=e=>c.lable=e)},null,8,["onChange","modelValue"]),[[u,c.show]])])]),s("div",x,[s(_,{data:c.lables,border:"",style:{width:"600px"},"max-height":"600"},{default:h((()=>[s(m,{prop:"lable",label:"标签",width:"120"},{default:h((e=>[s(r,{onChange:a=>c.upLable(e.row),modelValue:e.row.lable,"onUpdate:modelValue":a=>e.row.lable=a,placeholder:"请输入内容"},null,8,["onChange","modelValue","onUpdate:modelValue"])])),_:1}),s(m,{prop:"update-time",label:"创建时间",width:"300"}),s(m,{label:"操作"},{default:h((e=>[s(p,{size:"mini",type:"text",onClick:a=>c.delLable(e.row)},{default:h((()=>[w])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])])}));m.render=_,m.__scopeId="data-v-54cb1334";export default m;
